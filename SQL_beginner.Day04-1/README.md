# üìÖ Day 04 ‚Äî SQL Bootcamp

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–ù–∞ —á–µ—Ç–≤—ë—Ä—Ç—ã–π –¥–µ–Ω—å –º—ã –ø–æ–≥—Ä—É–∂–∞–µ–º—Å—è –≤ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü (Views) –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (Materialized Views). –†–∞–∑–±–µ—Ä—ë–º—Å—è, –∑–∞—á–µ–º –Ω—É–∂–Ω—ã —Ç–∞–∫–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö, –∏ –∫–∞–∫ –æ–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## üìÇ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

| –£–ø—Ä. | –§–∞–π–ª             | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ                                                       |
|------|------------------|------------------------------------------------------------------------|
| 00   | `day04_ex00.sql` | –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –ø–æ –ø–æ–ª—É (–º—É–∂—á–∏–Ω—ã/–∂–µ–Ω—â–∏–Ω—ã)                       |
| 01   | `day04_ex01.sql` | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–≤—É—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π                              |
| 02   | `day04_ex02.sql` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ (—á–µ—Ä–µ–∑ `generate_series`)                   |
| 03   | `day04_ex03.sql` | –ü–æ–∏—Å–∫ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –¥–∞—Ç –ø–æ—Å–µ—â–µ–Ω–∏–π                                       |
| 04   | `day04_ex04.sql` | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: —Å–∏–º–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –Ω–∞–±–æ—Ä–∞–º–∏        |
| 05   | `day04_ex05.sql` | –†–∞—Å—á—ë—Ç —Å–∫–∏–¥–∫–∏ 10% –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è                             |
| 06   | `day04_ex06.sql` | –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: –≤–∏–∑–∏—Ç—ã –∏ –∑–∞–∫–∞–∑—ã –î–º–∏—Ç—Ä–∏—è                        |
| 07   | `day04_ex07.sql` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π           |
| 08   | `day04_ex08.sql` | –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã: —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ   |

---

## üß∞ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- SQL (PostgreSQL)
- `VIEW` –∏ `MATERIALIZED VIEW`
- `generate_series(...)`
- `UNION`, `EXCEPT`, `INTERSECT`
- –û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π

---

## üîé –¢–µ–æ—Ä–∏—è: View vs Materialized View

| –ü–∞—Ä–∞–º–µ—Ç—Ä                         | View                             | Materialized View                    |
|----------------------------------|----------------------------------|--------------------------------------|
| –û–±–Ω–æ–≤–ª—è–µ–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö             | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ   | –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Ä—É—á–Ω—É—é (–∏–ª–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é) |
| –ò–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å (`INSERT/UPDATE`)  | –î–∞, —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ | –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è                    |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å               | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç underlying —Ç–∞–±–ª–∏—Ü     | –ë—ã—Å—Ç—Ä–µ–µ –∑–∞ —Å—á—ë—Ç –ø—Ä–µ–¥—Ä–∞—Å—á—ë—Ç–∞          |
| –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è                       | –ù–µ—Ç                              | –î–∞, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é          |

---

## üß† –°–æ–≤–µ—Ç—ã

- –ù–∞–∑–≤–∞–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –Ω–∞—á–∏–Ω–∞–π —Å `v_`, –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö ‚Äî —Å `mv_`.
- –ò—Å–ø–æ–ª—å–∑—É–π `WITH DATA` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `MATERIALIZED VIEW`.
- –ù–µ –∑–∞–±—ã–≤–∞–π –ø—Ä–æ `REFRESH MATERIALIZED VIEW` –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö.
- –£–≤–∞–∂–∞–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä—è–º—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (`id = 1` –∏ —Ç.–¥.) –≤ ex07.

---

## ‚úÖ –¶–µ–ª—å –¥–Ω—è

–ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤, –∞ —Ç–∞–∫–∂–µ –ø–æ–Ω–∏–º–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –ª–æ–≥–∏—á–µ—Å–∫–∏–º –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º —É—Ä–æ–≤–Ω—è–º–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤ –°–£–ë–î.

---
